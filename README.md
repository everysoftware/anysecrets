# Secrets Backend

Бэкенд экосистемы управления паролями Secrets.

<img src="https://github.com/everysoftware/secrets-backend/assets/22497421/b03e398e-c8f6-4db3-a322-4fee50f012b3" />  


## Сервисы
* Сервис аутентификации: авторизация, регистрация. Есть поддержка двухфакторной аутентификации через Google Authentificator.
* Сервис пользователей: получение, удаление и изменение.
* Сервис паролей: создание, получение, удаление и изменение.

## Стек технологий

Продукт: FastAPI • PostgreSQL • SQLAlchemy • Alembic • Redis • Celery • cryptography  
Вспомогательные библиотеки: FastAPI Users • FastAPI Paginations  
Инструменты для разработки: PyCharm • Black • Isort • Ruff • Mypy • Pytest • Docker  

## Аутентификация

Авторизация осуществляется посредством JWT-токенов, которые хранятся в куки браузера или, в случае с другим клиентом, отдаются напрямую в теле ответа.  

Двухфакторная аутентификация осуществляется с помощью TOTP-кода из приложения Google Authentificator, который обновляется каждые 30 секунд. 
* После первого шага аутентификации выдаётся JWT-токен, подтверждающий правильность введёного логина и пароля.
* После второго шага токен обновляется информацией о том, что пройдены все этапы и доступ разрешён.

## Пароли

Пароли пользователей хранятся в надёжно зашифрованном виде. Применяется алгоритм симметричного шифрования RSA. Данные шифруются с помощью секретного ключа Secrets.

## Сборка

1. Создайте файл окружения ```.env``` на основании ```.env.example```. 
2. Запустите бэкенд: ```make run```
3. Готово!


**Made with ❤️ by @ivanstasevich**
